---
title: "Class06: R functions"
author: "Montserrat (PID: A16536527)"
format: pdf
toc: true
---

All functions in R have at least 3 things: 

-A **name**, we pick this and use it to call our function
-input **argument** (there can be multiple)
- The **body** lines of R code that do the work 

### Our first (silly) function 

write a function to add some numbers 

```{r}
add <- function (x,y=1){
  x + y
}
```

Now we call this function 

```{r}
add(10,100)
```
```{r}
add(c(10,10),100)
```

## A second function 

write a function to generate random nucleotide sequences of a user specified length: 

The `sample` function can be helpful here

```{r}
sample(c("A","C","G","T"), size=50, replace = TRUE)
```

i want the a 1 element long character vector that looks "GCTATT" not "G" "C" "T" "A" "T" "T"

```{r}
v <- sample(c("A","C","G","T"), size=50, replace = TRUE)
paste(v,collapse="")
```

Turn this into my first wee function 

```{r}
generate_dna <- function(size=50){
  v <- sample(c("A","C","G","T"), size=size, replace = TRUE)
paste(v,collapse="")
}
```

Test it:

```{r}
generate_dna(6)
```

```{r}
generate_dna(60)
```

```{r}
if(TRUE){
  cat("HELLO You!")
}
```
```{r}
fasta<- TRUE
if(fasta){
  cat("HELLO You!")
}
```

Add the ability to return a multi-element vector or a single element fasta like vector 

```{r}
generate_fasta <- function(size=50,fasta=TRUE){
  v <- sample(c("A","C","G","T"), size=size, replace = TRUE)
paste(v,collapse="")
if(fasta){
  cat("HELLO You!")
}
}
```

```{r}
generate_fasta(10)
```
```{r}
generate_fasta(10,fasta=FALSE)
```

```{r}
generate_fasta <- function(size=50,fasta=TRUE){
  v <- sample(c("A","C","G","T"), size=size, replace = TRUE)
s<-paste(v,collapse="")
if(fasta){
  return(s)
}else{
  return(v)
}
}
```

```{r}
generate_fasta(10)
```

```{r}
generate_fasta(10,fasta=FALSE)
```

## A protein generating function

```{r}
generate_protein <- function(size=50, fasta=TRUE){
  aa_codes <- c("A","R","N","D","C","Q","E","G","H","I","L","K","M","F","P","S","T","W","Y","V")
  v <- sample(aa_codes, size=size, replace=TRUE)
  s <- paste(v, collapse="")
  if(fasta){
    return(s)
  } else {
    return(v)
  }
}
```


```{r}
generate_protein(6)
```


generate all sequences between length of 6 and 12 using `generate_protein()`

one function to do this is "brute force"

```{r}
generate_protein(6)
generate_protein(7)
generate_protein(8)
```

A second way is to use a `for()` loop:
```{r}
lengths <-6:12
for(i in lengths){
  cat(">",i,"\n",sep="") #adjust space between > and number using sep 
  aa<- generate_protein(i)
  cat(aa)
  cat("\n")
}
```
A third, and better, way to solve this is to use the `apply()` family of functions, specifically the `sapply()` function in this case 

```{r}
sapply(6:12,generate_protein)
```

